<div class="container mat-elevation-z8">
    
    <h1 class="full-width">Atualizando chamado</h1>
    <img class="full-width" src="assets/img/chamado-create.svg" alt="Help Desk - Dicas de um DEV">
    <form class="form">
        <mat-form-field class="full-width" appearance="outline">
          <mat-label>Título do chamado</mat-label>
          <input [(ngModel)]="chamado.titulo"
                 name="titulo"
                 matInput placeholder="Ex. Trocar bateria" 
                 [formControl]="titulo"
                 required>
        </mat-form-field>
    </form>
    <div class="status-prioridade">
        <mat-form-field appearance="outline" >
            <mat-label>{{retornaStatus(chamado.status)}}</mat-label>
            <mat-select  [formControl]="status" 
                         required
                         [(ngModel)]="chamado.status"
                         name="status">
              <mat-option value="0">Aberto</mat-option>
              <mat-option value="1">Andamento</mat-option>
              <mat-option value="2">Encerrado</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>{{retornaPrioridade(chamado.prioridade)}}</mat-label>
            <mat-select [formControl]="prioridade" 
                        required
                        [(ngModel)]="chamado.prioridade"
                        name="prioridade">
              <mat-option value="0">Baixa</mat-option>
              <mat-option value="1">Média</mat-option>
              <mat-option value="2">Alta</mat-option>
            </mat-select>
          </mat-form-field>
    </div>
    <div class="tecnico">
        <mat-form-field class="full-width"  appearance="outline">
            <mat-label>{{chamado.nomeTecnico}}</mat-label>
            <mat-select [formControl]="tecnico" 
                        required 
                        [(ngModel)]="chamado.tecnico"
                        name="tecnico">
              <mat-option *ngFor="let tecnico of tecnicos " value="{{tecnico.id}}">{{tecnico.nome}}</mat-option>
              </mat-select>
          </mat-form-field>

    </div>

    <div class="cliente">
        <mat-form-field class="full-width"  appearance="outline">
            <mat-label>{{chamado.nomeCliente}}</mat-label>
            <mat-select [formControl]="cliente" 
                        required  
                        [(ngModel)]="chamado.cliente"
                        name="cliente">
              <mat-option *ngFor="let cliente of clientes " value="{{cliente.id}}">{{cliente.nome}}</mat-option>
              </mat-select>
          </mat-form-field>

    </div>
    <form class="form">
        <mat-form-field class="full-width " appearance="outline">
          <mat-label>Deixe uma descrição</mat-label>
          <textarea  class= "observacoes"
                    matInput placeholder="Ex. trocar bateria" 
                     [formControl]="observacoes" 
                     required   
                     [(ngModel)]="chamado.observacoes"
                      name="observacoes"></textarea>
        </mat-form-field>
    </form>
    <button (click)="update()" [disabled]="!validaCampos()" class="full-width container mat-elevation-z4" mat-raised-button color="primary">Atualizar</button>
    <button routerLink="../" class="full-width container mat-elevation-z4" mat-stroked-button color="warn">Cancelar</button>
    <p class="full-width">Desenvolvido por Evaldo Ferreira</p>
     
</div>

